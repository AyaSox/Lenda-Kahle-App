# ?? Visual Guide - In-App Notifications Flow

## ?? User Journey with Notifications

```
???????????????????????????????????????????????????????????????
?                  NEW USER REGISTRATION                      ?
???????????????????????????????????????????????????????????????

?? User Registers
    ?
?????????????????????????????????
? ?? NOTIFICATION               ?
? Welcome to LendaKahle! ??     ?
? Your account is ready!        ?
?????????????????????????????????


???????????????????????????????????????????????????????????????
?                  LOAN APPLICATION PROCESS                   ?
???????????????????????????????????????????????????????????????

?? Borrower Submits Loan Application
    ?
?????????????????????????????????  ?????????????????????????????????
? ?? TO BORROWER                ?  ? ?? TO ADMIN/OFFICERS          ?
? Loan Application Submitted    ?  ? New Loan Application          ?
? Loan #1234 - R50,000         ?  ? From: John Doe - R50,000      ?
?????????????????????????????????  ?????????????????????????????????


???????????????????????????????????????????????????????????????
?                  DOCUMENT UPLOAD PROCESS                    ?
???????????????????????????????????????????????????????????????

?? Borrower Uploads ID Document
    ?
?????????????????????????????????  ?????????????????????????????????
? ?? TO BORROWER                ?  ? ?? TO ADMIN/OFFICERS          ?
? Document Uploaded Successfully?  ? New Document to Verify        ?
? SA ID - Pending verification  ?  ? SA ID for Loan #1234          ?
?????????????????????????????????  ?????????????????????????????????

                ?
        ????? Admin Verifies Document
                ?
?????????????????????????????????
? ?? TO BORROWER                ?
? Document Verified ?          ?
? Your SA ID has been approved  ?
?????????????????????????????????

    [After all documents verified]
                ?
?????????????????????????????????
? ?? TO BORROWER                ?
? All Documents Verified! ??    ?
? Application progressing!      ?
?????????????????????????????????


???????????????????????????????????????????????????????????????
?                  LOAN APPROVAL PROCESS                      ?
???????????????????????????????????????????????????????????????

        ????? Admin Reviews Application
                ?
        ???????????????
        ?   APPROVE?  ?
        ???????????????
           /       \
          /         \
        YES         NO
         ?           ?

???????????????????  ???????????????????
? ? APPROVED     ?  ? ? REJECTED      ?
???????????????????  ???????????????????
         ?                    ?
?????????????????????????????????  ?????????????????????????????????
? ?? TO BORROWER                ?  ? ?? TO BORROWER                ?
? Loan Approved ?              ?  ? Loan Rejected ??               ?
? R50,000 approved!             ?  ? Application denied            ?
?????????????????????????????????  ?????????????????????????????????


???????????????????????????????????????????????????????????????
?                  PAYMENT PROCESS                            ?
???????????????????????????????????????????????????????????????

?? Borrower Makes Payment
    ?
?????????????????????????????????
? ?? TO BORROWER                ?
? Payment Received ??           ?
? R4,500 received               ?
? Remaining: R45,500            ?
?????????????????????????????????

    [After final payment]
                ?
?????????????????????????????????
? ?? TO BORROWER                ?
? Loan Fully Repaid! ??         ?
? Congratulations! All paid!    ?
? Total: R50,000                ?
?????????????????????????????????
```

---

## ?? Notification Dashboard View

```
????????????????????????????????????????????????????????????????
?  ?? Notifications                                    [X]      ?
????????????????????????????????????????????????????????????????
?  [Mark All as Read]                                          ?
????????????????????????????????????????????????????????????????
?                                                              ?
?  ??????????????????????????????????????????????????????     ?
?  ? ?? Loan Fully Repaid!                              ?     ?
?  ? Congratulations! Loan #1234 completed              ?     ?
?  ? ?? 2 hours ago                     [Loan #1234] ?  ?     ?
?  ??????????????????????????????????????????????????????     ?
?                                                              ?
?  ??????????????????????????????????????????????????????     ?
?  ? ?? Payment Received                                ?     ?
?  ? Payment of R4,500 received                         ?     ?
?  ? ?? 3 hours ago                     [Loan #1234] ?  ?     ?
?  ??????????????????????????????????????????????????????     ?
?                                                              ?
?  ??????????????????????????????????????????????????????     ?
?  ? ? Document Verified                               ?     ?
?  ? Your Payslip has been approved                     ?     ?
?  ? ?? Yesterday                       [Loan #1234] ?  ?     ?
?  ??????????????????????????????????????????????????????     ?
?                                                              ?
?  ??????????????????????????????????????????????????????     ?
?  ? ?? Loan Application Submitted                      ?     ?
?  ? Your application is under review                   ?     ?
?  ? ?? 2 days ago                      [Loan #1234] ?  ?     ?
?  ??????????????????????????????????????????????????????     ?
?                                                              ?
????????????????????????????????????????????????????????????????
```

---

## ?? Notification Types & Colors

```
???????????????????????????????????????????????????????????????
? Notification Type             Icon  Color   Badge           ?
???????????????????????????????????????????????????????????????
? Welcome Message               ??   Blue    Default          ?
? Loan Application Submitted    ??   Blue    Info             ?
? Document Uploaded             ??   Blue    Default          ?
? Document Verified             ?   Green   Success          ?
? Document Rejected             ??   Red     Error            ?
? All Documents Verified        ??   Green   Success          ?
? Loan Approved                 ?   Green   Success          ?
? Loan Rejected                 ??   Red     Error            ?
? Payment Received              ??   Green   Success          ?
? Loan Completed                ??   Green   Success          ?
? New Application (Admin)       ??   Blue    Info             ?
? New Document (Admin)          ??   Orange  Warning          ?
???????????????????????????????????????????????????????????????
```

---

## ?? Notification States

### Unread Notification (Bold)
```
??????????????????????????????????????????
? ?? New Loan Application                ?
? From: Jane Doe - R75,000               ?
? ?? Just now            [View] ?        ?
??????????????????????????????????????????
     ?
     ?
  Background: Light blue/yellow highlight
  Font: Bold
  Badge: Shown in bell icon
```

### Read Notification (Normal)
```
??????????????????????????????????????????
? ?? New Loan Application                ?
? From: Jane Doe - R75,000               ?
? ?? 2 hours ago         [View] ?        ?
??????????????????????????????????????????
     ?
     ?
  Background: White/transparent
  Font: Regular weight
  Opacity: Slightly faded
```

---

## ?? User Actions

### 1. View Notifications
```
User clicks bell icon ? Drawer slides open from right
                      ? Shows all notifications (newest first)
                      ? Badge shows unread count
```

### 2. Mark Single as Read
```
User clicks notification ? Notification marked as read
                        ? Badge count decreases
                        ? Background fades
```

### 3. Mark All as Read
```
User clicks "Mark All as Read" ? All notifications marked
                               ? Badge disappears
                               ? All backgrounds fade
```

### 4. Navigate to Related Item
```
User clicks notification with loan link ? Opens loan details page
                                        ? Notification marked as read
```

---

## ?? Badge Count Display

### Navbar Bell Icon States:

```
No unread:
    ??
    ?
    No badge

1-9 unread:
    ?? 1
    ?  ?
    bell + count

10+ unread:
    ?? 10+
    ?   ?
    bell + 10+

Active (drawer open):
    ?? 3
    ?  ?
    bell + count (highlighted)
```

---

## ?? Admin vs Borrower Notifications

### Borrower Receives:
```
? Welcome message
? Loan application confirmation
? Document upload confirmations
? Document verification results
? All documents verified
? Loan approval/rejection
? Payment confirmations
? Loan completion
```

### Admin/Loan Officer Receives:
```
? New loan applications
? New documents to verify
(No payment/approval notifications)
```

---

## ?? Auto-Refresh Behavior

```
Timeline:
0s   ? User opens notifications drawer
0s   ? Current notifications displayed
30s  ? Auto-fetch unread count
60s  ? Auto-fetch unread count
90s  ? Auto-fetch unread count
...

When drawer is open:
- Real-time via SignalR (optional, already setup)
- Or manual refresh by closing/reopening
```

---

## ?? Quick Reference

### For Borrowers:
1. **Check bell icon** regularly for updates
2. **Red badge** = unread notifications
3. **Click to open** drawer
4. **Click notification** to mark as read
5. **Click loan link** to view details

### For Admins:
1. **Monitor bell** for new applications
2. **Check regularly** for documents to verify
3. **Click to view** full notification list
4. **Quick access** to pending tasks

---

## ?? Visual Summary

```
   USER JOURNEY              NOTIFICATIONS RECEIVED
???????????????????????????????????????????????????????

1. Register              ? ?? Welcome to LendaKahle!
                         
2. Apply for Loan        ? ?? Application Submitted
                         ? ?? [Admin] New Application
                         
3. Upload Documents      ? ?? Document Uploaded
                         ? ?? [Admin] New Document
                         
4. Documents Verified    ? ? Document Verified
                         ? ?? All Documents Verified
                         
5. Loan Approved         ? ? Loan Approved
                         
6. Make Payments         ? ?? Payment Received (x N)
                         
7. Final Payment         ? ?? Loan Fully Repaid!

???????????????????????????????????????????????????????
   Total: 8 key actions  ?  15+ notifications sent
```

---

**Your users now have a complete, real-time notification experience!** ??

Every action triggers appropriate notifications, keeping everyone informed and engaged throughout the loan lifecycle.
